2020-02-14 01:15:59 =ERROR REPORT====
** Generic server <0.718.0> terminating 
** Last message in was {'DOWN',#Ref<0.2171341305.4082368520.114050>,process,<0.721.0>,shutdown}
** When Server state == {ready,#Ref<0.2171341305.4082499592.114020>,#{delay => 0,idle => #Ref<0.2171341305.4082368519.114029>,idle_interval => 1000,interval => 1000,next => -576460748205,poll => #Ref<0.2171341305.4082368519.114028>,slow => false,target => 50}}
** Reason for termination ==
** {function_clause,[{'Elixir.DBConnection.ConnectionPool',handle_info,[{'DOWN',#Ref<0.2171341305.4082368520.114050>,process,<0.721.0>,shutdown},{ready,#Ref<0.2171341305.4082499592.114020>,#{delay => 0,idle => #Ref<0.2171341305.4082368519.114029>,idle_interval => 1000,interval => 1000,next => -576460748205,poll => #Ref<0.2171341305.4082368519.114028>,slow => false,target => 50}}],[{file,"lib/db_connection/connection_pool.ex"},{line,34}]},{gen_server,try_dispatch,4,[{file,"gen_server.erl"},{line,637}]},{gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,711}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
2020-02-14 01:49:43 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.601.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.UndefinedFunctionError',arity => 1,function => publish,message => nil,module => 'Elixir.Ledger.Worker',reason => nil},[{'Elixir.Ledger.Worker',publish,[<<"{\"user_id\":\"xyz\",\"event\":\"sent_a_message\"}">>],[]},{'Elixir.LedgerWeb.QueueController',index,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,6}]},{'Elixir.LedgerWeb.QueueController',action,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.LedgerWeb.QueueController',phoenix_controller_pipeline,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',2,[{file,"lib/phoenix/router.ex"},{line,288}]},{'Elixir.LedgerWeb.Endpoint',plug_builder_call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.LedgerWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.LedgerWeb.Endpoint',call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.LedgerWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 32,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>,<<"content-length">> => <<"32">>,<<"content-type">> => <<"application/x-www-form-urlencoded">>,<<"host">> => <<"localhost:4000">>,<<"user-agent">> => <<"Ruby">>},host => <<"localhost">>,host_info => undefined,method => <<"POST">>,path => <<"/api/send">>,path_info => undefined,peer => {{127,0,0,1},60198},pid => <0.600.0>,port => 4000,qs => <<>>,ref => 'Elixir.LedgerWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"POST">>,owner => <0.601.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"api">>,<<"send">>],path_params => #{},port => 4000,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>},{<<"content-length">>,<<"32">>},{<<"content-type">>,<<"application/x-www-form-urlencoded">>},{<<"host">>,<<"localhost:4000">>},{<<"user-agent">>,<<"Ruby">>}],request_path => <<"/api/send">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.600.0>,<0.492.0>,<0.491.0>,'Elixir.LedgerWeb.Endpoint','Elixir.Ledger.Supervisor',<0.395.0>]
    message_queue_len: 0
    messages: []
    links: [<0.600.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"FfMedUMd-FYuW9YAAAEC">>}]}}]
    trap_exit: false
    status: running
    heap_size: 6772
    stack_size: 27
    reductions: 105659
  neighbours:
2020-02-14 01:49:43 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.602.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.UndefinedFunctionError',arity => 1,function => publish,message => nil,module => 'Elixir.Ledger.Worker',reason => nil},[{'Elixir.Ledger.Worker',publish,[<<"{\"user_id\":\"xyz\",\"event\":\"sent_a_message\"}">>],[]},{'Elixir.LedgerWeb.QueueController',index,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,6}]},{'Elixir.LedgerWeb.QueueController',action,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.LedgerWeb.QueueController',phoenix_controller_pipeline,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',2,[{file,"lib/phoenix/router.ex"},{line,288}]},{'Elixir.LedgerWeb.Endpoint',plug_builder_call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.LedgerWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.LedgerWeb.Endpoint',call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.LedgerWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 32,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>,<<"content-length">> => <<"32">>,<<"content-type">> => <<"application/x-www-form-urlencoded">>,<<"host">> => <<"localhost:4000">>,<<"user-agent">> => <<"Ruby">>},host => <<"localhost">>,host_info => undefined,method => <<"POST">>,path => <<"/api/send">>,path_info => undefined,peer => {{127,0,0,1},60194},pid => <0.599.0>,port => 4000,qs => <<>>,ref => 'Elixir.LedgerWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"POST">>,owner => <0.602.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"api">>,<<"send">>],path_params => #{},port => 4000,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>},{<<"content-length">>,<<"32">>},{<<"content-type">>,<<"application/x-www-form-urlencoded">>},{<<"host">>,<<"localhost:4000">>},{<<"user-agent">>,<<"Ruby">>}],request_path => <<"/api/send">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.599.0>,<0.492.0>,<0.491.0>,'Elixir.LedgerWeb.Endpoint','Elixir.Ledger.Supervisor',<0.395.0>]
    message_queue_len: 0
    messages: []
    links: [<0.599.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"FfMedUMdiuIxBVkAAAIh">>}]}}]
    trap_exit: false
    status: running
    heap_size: 6772
    stack_size: 27
    reductions: 105650
  neighbours:
2020-02-14 01:49:43 =ERROR REPORT====
Ranch listener 'Elixir.LedgerWeb.Endpoint.HTTP', connection process <0.600.0>, stream 1 had its request process <0.601.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.UndefinedFunctionError',arity => 1,function => publish,message => nil,module => 'Elixir.Ledger.Worker',reason => nil},[{'Elixir.Ledger.Worker',publish,[<<"{\"user_id\":\"xyz\",\"event\":\"sent_a_message\"}">>],[]},{'Elixir.LedgerWeb.QueueController',index,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,6}]},{'Elixir.LedgerWeb.QueueController',action,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.LedgerWeb.QueueController',phoenix_controller_pipeline,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',2,[{file,"lib/phoenix/router.ex"},{line,288}]},{'Elixir.LedgerWeb.Endpoint',plug_builder_call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.LedgerWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.LedgerWeb.Endpoint',call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.LedgerWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 32,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>,<<"content-length">> => <<"32">>,<<"content-type">> => <<"application/x-www-form-urlencoded">>,<<"host">> => <<"localhost:4000">>,<<"user-agent">> => <<"Ruby">>},host => <<"localhost">>,host_info => undefined,method => <<"POST">>,path => <<"/api/send">>,path_info => undefined,peer => {{127,0,0,1},60198},pid => <0.600.0>,port => 4000,qs => <<>>,ref => 'Elixir.LedgerWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"POST">>,owner => <0.601.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"api">>,<<"send">>],path_params => #{},port => 4000,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>},{<<"content-length">>,<<"32">>},{<<"content-type">>,<<"application/x-www-form-urlencoded">>},{<<"host">>,<<"localhost:4000">>},{<<"user-agent">>,<<"Ruby">>}],request_path => <<"/api/send">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2020-02-14 01:49:43 =ERROR REPORT====
Ranch listener 'Elixir.LedgerWeb.Endpoint.HTTP', connection process <0.599.0>, stream 1 had its request process <0.602.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.UndefinedFunctionError',arity => 1,function => publish,message => nil,module => 'Elixir.Ledger.Worker',reason => nil},[{'Elixir.Ledger.Worker',publish,[<<"{\"user_id\":\"xyz\",\"event\":\"sent_a_message\"}">>],[]},{'Elixir.LedgerWeb.QueueController',index,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,6}]},{'Elixir.LedgerWeb.QueueController',action,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.LedgerWeb.QueueController',phoenix_controller_pipeline,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',2,[{file,"lib/phoenix/router.ex"},{line,288}]},{'Elixir.LedgerWeb.Endpoint',plug_builder_call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.LedgerWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.LedgerWeb.Endpoint',call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.LedgerWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 32,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>,<<"content-length">> => <<"32">>,<<"content-type">> => <<"application/x-www-form-urlencoded">>,<<"host">> => <<"localhost:4000">>,<<"user-agent">> => <<"Ruby">>},host => <<"localhost">>,host_info => undefined,method => <<"POST">>,path => <<"/api/send">>,path_info => undefined,peer => {{127,0,0,1},60194},pid => <0.599.0>,port => 4000,qs => <<>>,ref => 'Elixir.LedgerWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"POST">>,owner => <0.602.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"api">>,<<"send">>],path_params => #{},port => 4000,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>},{<<"content-length">>,<<"32">>},{<<"content-type">>,<<"application/x-www-form-urlencoded">>},{<<"host">>,<<"localhost:4000">>},{<<"user-agent">>,<<"Ruby">>}],request_path => <<"/api/send">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2020-02-14 01:49:43 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.606.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.UndefinedFunctionError',arity => 1,function => publish,message => nil,module => 'Elixir.Ledger.Worker',reason => nil},[{'Elixir.Ledger.Worker',publish,[<<"{\"user_id\":\"xyz\",\"event\":\"sent_a_message\"}">>],[]},{'Elixir.LedgerWeb.QueueController',index,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,6}]},{'Elixir.LedgerWeb.QueueController',action,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.LedgerWeb.QueueController',phoenix_controller_pipeline,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',2,[{file,"lib/phoenix/router.ex"},{line,288}]},{'Elixir.LedgerWeb.Endpoint',plug_builder_call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.LedgerWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.LedgerWeb.Endpoint',call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.LedgerWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 32,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>,<<"content-length">> => <<"32">>,<<"content-type">> => <<"application/x-www-form-urlencoded">>,<<"host">> => <<"localhost:4000">>,<<"user-agent">> => <<"Ruby">>},host => <<"localhost">>,host_info => undefined,method => <<"POST">>,path => <<"/api/send">>,path_info => undefined,peer => {{127,0,0,1},60206},pid => <0.605.0>,port => 4000,qs => <<>>,ref => 'Elixir.LedgerWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"POST">>,owner => <0.606.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"api">>,<<"send">>],path_params => #{},port => 4000,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>},{<<"content-length">>,<<"32">>},{<<"content-type">>,<<"application/x-www-form-urlencoded">>},{<<"host">>,<<"localhost:4000">>},{<<"user-agent">>,<<"Ruby">>}],request_path => <<"/api/send">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.605.0>,<0.492.0>,<0.491.0>,'Elixir.LedgerWeb.Endpoint','Elixir.Ledger.Supervisor',<0.395.0>]
    message_queue_len: 0
    messages: []
    links: [<0.605.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"FfMedUdauBhaSXIAAAFE">>}]}}]
    trap_exit: false
    status: running
    heap_size: 4185
    stack_size: 27
    reductions: 105040
  neighbours:
2020-02-14 01:49:43 =ERROR REPORT====
Ranch listener 'Elixir.LedgerWeb.Endpoint.HTTP', connection process <0.605.0>, stream 1 had its request process <0.606.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.UndefinedFunctionError',arity => 1,function => publish,message => nil,module => 'Elixir.Ledger.Worker',reason => nil},[{'Elixir.Ledger.Worker',publish,[<<"{\"user_id\":\"xyz\",\"event\":\"sent_a_message\"}">>],[]},{'Elixir.LedgerWeb.QueueController',index,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,6}]},{'Elixir.LedgerWeb.QueueController',action,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.LedgerWeb.QueueController',phoenix_controller_pipeline,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',2,[{file,"lib/phoenix/router.ex"},{line,288}]},{'Elixir.LedgerWeb.Endpoint',plug_builder_call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.LedgerWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.LedgerWeb.Endpoint',call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.LedgerWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 32,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>,<<"content-length">> => <<"32">>,<<"content-type">> => <<"application/x-www-form-urlencoded">>,<<"host">> => <<"localhost:4000">>,<<"user-agent">> => <<"Ruby">>},host => <<"localhost">>,host_info => undefined,method => <<"POST">>,path => <<"/api/send">>,path_info => undefined,peer => {{127,0,0,1},60206},pid => <0.605.0>,port => 4000,qs => <<>>,ref => 'Elixir.LedgerWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"POST">>,owner => <0.606.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"api">>,<<"send">>],path_params => #{},port => 4000,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>},{<<"content-length">>,<<"32">>},{<<"content-type">>,<<"application/x-www-form-urlencoded">>},{<<"host">>,<<"localhost:4000">>},{<<"user-agent">>,<<"Ruby">>}],request_path => <<"/api/send">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2020-02-14 01:49:43 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.607.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.UndefinedFunctionError',arity => 1,function => publish,message => nil,module => 'Elixir.Ledger.Worker',reason => nil},[{'Elixir.Ledger.Worker',publish,[<<"{\"user_id\":\"xyz\",\"event\":\"sent_a_message\"}">>],[]},{'Elixir.LedgerWeb.QueueController',index,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,6}]},{'Elixir.LedgerWeb.QueueController',action,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.LedgerWeb.QueueController',phoenix_controller_pipeline,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',2,[{file,"lib/phoenix/router.ex"},{line,288}]},{'Elixir.LedgerWeb.Endpoint',plug_builder_call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.LedgerWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.LedgerWeb.Endpoint',call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.LedgerWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 32,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>,<<"content-length">> => <<"32">>,<<"content-type">> => <<"application/x-www-form-urlencoded">>,<<"host">> => <<"localhost:4000">>,<<"user-agent">> => <<"Ruby">>},host => <<"localhost">>,host_info => undefined,method => <<"POST">>,path => <<"/api/send">>,path_info => undefined,peer => {{127,0,0,1},60202},pid => <0.604.0>,port => 4000,qs => <<>>,ref => 'Elixir.LedgerWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"POST">>,owner => <0.607.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"api">>,<<"send">>],path_params => #{},port => 4000,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>},{<<"content-length">>,<<"32">>},{<<"content-type">>,<<"application/x-www-form-urlencoded">>},{<<"host">>,<<"localhost:4000">>},{<<"user-agent">>,<<"Ruby">>}],request_path => <<"/api/send">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.604.0>,<0.492.0>,<0.491.0>,'Elixir.LedgerWeb.Endpoint','Elixir.Ledger.Supervisor',<0.395.0>]
    message_queue_len: 0
    messages: []
    links: [<0.604.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"FfMedUdaoJN72JUAAAJB">>}]}}]
    trap_exit: false
    status: running
    heap_size: 4185
    stack_size: 27
    reductions: 105067
  neighbours:
2020-02-14 01:49:43 =ERROR REPORT====
Ranch listener 'Elixir.LedgerWeb.Endpoint.HTTP', connection process <0.604.0>, stream 1 had its request process <0.607.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.UndefinedFunctionError',arity => 1,function => publish,message => nil,module => 'Elixir.Ledger.Worker',reason => nil},[{'Elixir.Ledger.Worker',publish,[<<"{\"user_id\":\"xyz\",\"event\":\"sent_a_message\"}">>],[]},{'Elixir.LedgerWeb.QueueController',index,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,6}]},{'Elixir.LedgerWeb.QueueController',action,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.LedgerWeb.QueueController',phoenix_controller_pipeline,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',2,[{file,"lib/phoenix/router.ex"},{line,288}]},{'Elixir.LedgerWeb.Endpoint',plug_builder_call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.LedgerWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.LedgerWeb.Endpoint',call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.LedgerWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 32,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>,<<"content-length">> => <<"32">>,<<"content-type">> => <<"application/x-www-form-urlencoded">>,<<"host">> => <<"localhost:4000">>,<<"user-agent">> => <<"Ruby">>},host => <<"localhost">>,host_info => undefined,method => <<"POST">>,path => <<"/api/send">>,path_info => undefined,peer => {{127,0,0,1},60202},pid => <0.604.0>,port => 4000,qs => <<>>,ref => 'Elixir.LedgerWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"POST">>,owner => <0.607.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"api">>,<<"send">>],path_params => #{},port => 4000,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>},{<<"content-length">>,<<"32">>},{<<"content-type">>,<<"application/x-www-form-urlencoded">>},{<<"host">>,<<"localhost:4000">>},{<<"user-agent">>,<<"Ruby">>}],request_path => <<"/api/send">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2020-02-14 01:51:29 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.612.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.UndefinedFunctionError',arity => 1,function => publish,message => nil,module => 'Elixir.Ledger.Worker',reason => nil},[{'Elixir.Ledger.Worker',publish,[<<"{\"user_id\":\"xyz\",\"event\":\"sent_a_message\"}">>],[]},{'Elixir.LedgerWeb.QueueController',index,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,6}]},{'Elixir.LedgerWeb.QueueController',action,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.LedgerWeb.QueueController',phoenix_controller_pipeline,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',2,[{file,"lib/phoenix/router.ex"},{line,288}]},{'Elixir.LedgerWeb.Endpoint',plug_builder_call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.LedgerWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.LedgerWeb.Endpoint',call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.LedgerWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 32,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>,<<"content-length">> => <<"32">>,<<"content-type">> => <<"application/x-www-form-urlencoded">>,<<"host">> => <<"localhost:4000">>,<<"user-agent">> => <<"Ruby">>},host => <<"localhost">>,host_info => undefined,method => <<"POST">>,path => <<"/api/send">>,path_info => undefined,peer => {{127,0,0,1},60226},pid => <0.609.0>,port => 4000,qs => <<>>,ref => 'Elixir.LedgerWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"POST">>,owner => <0.612.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"api">>,<<"send">>],path_params => #{},port => 4000,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>},{<<"content-length">>,<<"32">>},{<<"content-type">>,<<"application/x-www-form-urlencoded">>},{<<"host">>,<<"localhost:4000">>},{<<"user-agent">>,<<"Ruby">>}],request_path => <<"/api/send">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.609.0>,<0.492.0>,<0.491.0>,'Elixir.LedgerWeb.Endpoint','Elixir.Ledger.Supervisor',<0.395.0>]
    message_queue_len: 0
    messages: []
    links: [<0.609.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"FfMejiQSKGwmr1IAAAEi">>}]}}]
    trap_exit: false
    status: running
    heap_size: 4185
    stack_size: 27
    reductions: 105047
  neighbours:
2020-02-14 01:51:29 =ERROR REPORT====
Ranch listener 'Elixir.LedgerWeb.Endpoint.HTTP', connection process <0.609.0>, stream 1 had its request process <0.612.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.UndefinedFunctionError',arity => 1,function => publish,message => nil,module => 'Elixir.Ledger.Worker',reason => nil},[{'Elixir.Ledger.Worker',publish,[<<"{\"user_id\":\"xyz\",\"event\":\"sent_a_message\"}">>],[]},{'Elixir.LedgerWeb.QueueController',index,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,6}]},{'Elixir.LedgerWeb.QueueController',action,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.LedgerWeb.QueueController',phoenix_controller_pipeline,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',2,[{file,"lib/phoenix/router.ex"},{line,288}]},{'Elixir.LedgerWeb.Endpoint',plug_builder_call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.LedgerWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.LedgerWeb.Endpoint',call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.LedgerWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 32,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>,<<"content-length">> => <<"32">>,<<"content-type">> => <<"application/x-www-form-urlencoded">>,<<"host">> => <<"localhost:4000">>,<<"user-agent">> => <<"Ruby">>},host => <<"localhost">>,host_info => undefined,method => <<"POST">>,path => <<"/api/send">>,path_info => undefined,peer => {{127,0,0,1},60226},pid => <0.609.0>,port => 4000,qs => <<>>,ref => 'Elixir.LedgerWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"POST">>,owner => <0.612.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"api">>,<<"send">>],path_params => #{},port => 4000,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>},{<<"content-length">>,<<"32">>},{<<"content-type">>,<<"application/x-www-form-urlencoded">>},{<<"host">>,<<"localhost:4000">>},{<<"user-agent">>,<<"Ruby">>}],request_path => <<"/api/send">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2020-02-14 01:51:29 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.611.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.UndefinedFunctionError',arity => 1,function => publish,message => nil,module => 'Elixir.Ledger.Worker',reason => nil},[{'Elixir.Ledger.Worker',publish,[<<"{\"user_id\":\"xyz\",\"event\":\"sent_a_message\"}">>],[]},{'Elixir.LedgerWeb.QueueController',index,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,6}]},{'Elixir.LedgerWeb.QueueController',action,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.LedgerWeb.QueueController',phoenix_controller_pipeline,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',2,[{file,"lib/phoenix/router.ex"},{line,288}]},{'Elixir.LedgerWeb.Endpoint',plug_builder_call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.LedgerWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.LedgerWeb.Endpoint',call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.LedgerWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 32,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>,<<"content-length">> => <<"32">>,<<"content-type">> => <<"application/x-www-form-urlencoded">>,<<"host">> => <<"localhost:4000">>,<<"user-agent">> => <<"Ruby">>},host => <<"localhost">>,host_info => undefined,method => <<"POST">>,path => <<"/api/send">>,path_info => undefined,peer => {{127,0,0,1},60230},pid => <0.610.0>,port => 4000,qs => <<>>,ref => 'Elixir.LedgerWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"POST">>,owner => <0.611.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"api">>,<<"send">>],path_params => #{},port => 4000,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>},{<<"content-length">>,<<"32">>},{<<"content-type">>,<<"application/x-www-form-urlencoded">>},{<<"host">>,<<"localhost:4000">>},{<<"user-agent">>,<<"Ruby">>}],request_path => <<"/api/send">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.610.0>,<0.492.0>,<0.491.0>,'Elixir.LedgerWeb.Endpoint','Elixir.Ledger.Supervisor',<0.395.0>]
    message_queue_len: 0
    messages: []
    links: [<0.610.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"FfMejiQSbFS_108AAAFk">>}]}}]
    trap_exit: false
    status: running
    heap_size: 4185
    stack_size: 27
    reductions: 105048
  neighbours:
2020-02-14 01:51:29 =ERROR REPORT====
Ranch listener 'Elixir.LedgerWeb.Endpoint.HTTP', connection process <0.610.0>, stream 1 had its request process <0.611.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.UndefinedFunctionError',arity => 1,function => publish,message => nil,module => 'Elixir.Ledger.Worker',reason => nil},[{'Elixir.Ledger.Worker',publish,[<<"{\"user_id\":\"xyz\",\"event\":\"sent_a_message\"}">>],[]},{'Elixir.LedgerWeb.QueueController',index,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,6}]},{'Elixir.LedgerWeb.QueueController',action,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.LedgerWeb.QueueController',phoenix_controller_pipeline,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',2,[{file,"lib/phoenix/router.ex"},{line,288}]},{'Elixir.LedgerWeb.Endpoint',plug_builder_call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.LedgerWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.LedgerWeb.Endpoint',call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.LedgerWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 32,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>,<<"content-length">> => <<"32">>,<<"content-type">> => <<"application/x-www-form-urlencoded">>,<<"host">> => <<"localhost:4000">>,<<"user-agent">> => <<"Ruby">>},host => <<"localhost">>,host_info => undefined,method => <<"POST">>,path => <<"/api/send">>,path_info => undefined,peer => {{127,0,0,1},60230},pid => <0.610.0>,port => 4000,qs => <<>>,ref => 'Elixir.LedgerWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"POST">>,owner => <0.611.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"api">>,<<"send">>],path_params => #{},port => 4000,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>},{<<"content-length">>,<<"32">>},{<<"content-type">>,<<"application/x-www-form-urlencoded">>},{<<"host">>,<<"localhost:4000">>},{<<"user-agent">>,<<"Ruby">>}],request_path => <<"/api/send">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2020-02-14 01:51:30 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.617.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.UndefinedFunctionError',arity => 1,function => publish,message => nil,module => 'Elixir.Ledger.Worker',reason => nil},[{'Elixir.Ledger.Worker',publish,[<<"{\"user_id\":\"xyz\",\"event\":\"sent_a_message\"}">>],[]},{'Elixir.LedgerWeb.QueueController',index,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,6}]},{'Elixir.LedgerWeb.QueueController',action,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.LedgerWeb.QueueController',phoenix_controller_pipeline,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',2,[{file,"lib/phoenix/router.ex"},{line,288}]},{'Elixir.LedgerWeb.Endpoint',plug_builder_call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.LedgerWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.LedgerWeb.Endpoint',call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.LedgerWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 32,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>,<<"content-length">> => <<"32">>,<<"content-type">> => <<"application/x-www-form-urlencoded">>,<<"host">> => <<"localhost:4000">>,<<"user-agent">> => <<"Ruby">>},host => <<"localhost">>,host_info => undefined,method => <<"POST">>,path => <<"/api/send">>,path_info => undefined,peer => {{127,0,0,1},60234},pid => <0.616.0>,port => 4000,qs => <<>>,ref => 'Elixir.LedgerWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"POST">>,owner => <0.617.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"api">>,<<"send">>],path_params => #{},port => 4000,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>},{<<"content-length">>,<<"32">>},{<<"content-type">>,<<"application/x-www-form-urlencoded">>},{<<"host">>,<<"localhost:4000">>},{<<"user-agent">>,<<"Ruby">>}],request_path => <<"/api/send">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.616.0>,<0.492.0>,<0.491.0>,'Elixir.LedgerWeb.Endpoint','Elixir.Ledger.Supervisor',<0.395.0>]
    message_queue_len: 0
    messages: []
    links: [<0.616.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"FfMejiqSGOUKOXkAAAGE">>}]}}]
    trap_exit: false
    status: running
    heap_size: 4185
    stack_size: 27
    reductions: 105040
  neighbours:
2020-02-14 01:51:30 =ERROR REPORT====
Ranch listener 'Elixir.LedgerWeb.Endpoint.HTTP', connection process <0.616.0>, stream 1 had its request process <0.617.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.UndefinedFunctionError',arity => 1,function => publish,message => nil,module => 'Elixir.Ledger.Worker',reason => nil},[{'Elixir.Ledger.Worker',publish,[<<"{\"user_id\":\"xyz\",\"event\":\"sent_a_message\"}">>],[]},{'Elixir.LedgerWeb.QueueController',index,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,6}]},{'Elixir.LedgerWeb.QueueController',action,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.LedgerWeb.QueueController',phoenix_controller_pipeline,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',2,[{file,"lib/phoenix/router.ex"},{line,288}]},{'Elixir.LedgerWeb.Endpoint',plug_builder_call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.LedgerWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.LedgerWeb.Endpoint',call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.LedgerWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 32,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>,<<"content-length">> => <<"32">>,<<"content-type">> => <<"application/x-www-form-urlencoded">>,<<"host">> => <<"localhost:4000">>,<<"user-agent">> => <<"Ruby">>},host => <<"localhost">>,host_info => undefined,method => <<"POST">>,path => <<"/api/send">>,path_info => undefined,peer => {{127,0,0,1},60234},pid => <0.616.0>,port => 4000,qs => <<>>,ref => 'Elixir.LedgerWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"POST">>,owner => <0.617.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"api">>,<<"send">>],path_params => #{},port => 4000,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>},{<<"content-length">>,<<"32">>},{<<"content-type">>,<<"application/x-www-form-urlencoded">>},{<<"host">>,<<"localhost:4000">>},{<<"user-agent">>,<<"Ruby">>}],request_path => <<"/api/send">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2020-02-14 01:51:30 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.618.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.UndefinedFunctionError',arity => 1,function => publish,message => nil,module => 'Elixir.Ledger.Worker',reason => nil},[{'Elixir.Ledger.Worker',publish,[<<"{\"user_id\":\"xyz\",\"event\":\"sent_a_message\"}">>],[]},{'Elixir.LedgerWeb.QueueController',index,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,6}]},{'Elixir.LedgerWeb.QueueController',action,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.LedgerWeb.QueueController',phoenix_controller_pipeline,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',2,[{file,"lib/phoenix/router.ex"},{line,288}]},{'Elixir.LedgerWeb.Endpoint',plug_builder_call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.LedgerWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.LedgerWeb.Endpoint',call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.LedgerWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 32,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>,<<"content-length">> => <<"32">>,<<"content-type">> => <<"application/x-www-form-urlencoded">>,<<"host">> => <<"localhost:4000">>,<<"user-agent">> => <<"Ruby">>},host => <<"localhost">>,host_info => undefined,method => <<"POST">>,path => <<"/api/send">>,path_info => undefined,peer => {{127,0,0,1},60238},pid => <0.615.0>,port => 4000,qs => <<>>,ref => 'Elixir.LedgerWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"POST">>,owner => <0.618.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"api">>,<<"send">>],path_params => #{},port => 4000,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>},{<<"content-length">>,<<"32">>},{<<"content-type">>,<<"application/x-www-form-urlencoded">>},{<<"host">>,<<"localhost:4000">>},{<<"user-agent">>,<<"Ruby">>}],request_path => <<"/api/send">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.615.0>,<0.492.0>,<0.491.0>,'Elixir.LedgerWeb.Endpoint','Elixir.Ledger.Supervisor',<0.395.0>]
    message_queue_len: 0
    messages: []
    links: [<0.615.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"FfMejiqRLvTckTMAAAJh">>}]}}]
    trap_exit: false
    status: running
    heap_size: 4185
    stack_size: 27
    reductions: 105065
  neighbours:
2020-02-14 01:51:30 =ERROR REPORT====
Ranch listener 'Elixir.LedgerWeb.Endpoint.HTTP', connection process <0.615.0>, stream 1 had its request process <0.618.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.UndefinedFunctionError',arity => 1,function => publish,message => nil,module => 'Elixir.Ledger.Worker',reason => nil},[{'Elixir.Ledger.Worker',publish,[<<"{\"user_id\":\"xyz\",\"event\":\"sent_a_message\"}">>],[]},{'Elixir.LedgerWeb.QueueController',index,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,6}]},{'Elixir.LedgerWeb.QueueController',action,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.LedgerWeb.QueueController',phoenix_controller_pipeline,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',2,[{file,"lib/phoenix/router.ex"},{line,288}]},{'Elixir.LedgerWeb.Endpoint',plug_builder_call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.LedgerWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.LedgerWeb.Endpoint',call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.LedgerWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 32,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>,<<"content-length">> => <<"32">>,<<"content-type">> => <<"application/x-www-form-urlencoded">>,<<"host">> => <<"localhost:4000">>,<<"user-agent">> => <<"Ruby">>},host => <<"localhost">>,host_info => undefined,method => <<"POST">>,path => <<"/api/send">>,path_info => undefined,peer => {{127,0,0,1},60238},pid => <0.615.0>,port => 4000,qs => <<>>,ref => 'Elixir.LedgerWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"POST">>,owner => <0.618.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"api">>,<<"send">>],path_params => #{},port => 4000,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>},{<<"content-length">>,<<"32">>},{<<"content-type">>,<<"application/x-www-form-urlencoded">>},{<<"host">>,<<"localhost:4000">>},{<<"user-agent">>,<<"Ruby">>}],request_path => <<"/api/send">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2020-02-14 01:51:33 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.621.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.UndefinedFunctionError',arity => 1,function => publish,message => nil,module => 'Elixir.Ledger.Worker',reason => nil},[{'Elixir.Ledger.Worker',publish,[<<"{\"user_id\":\"xyz\",\"event\":\"sent_a_message\"}">>],[]},{'Elixir.LedgerWeb.QueueController',index,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,6}]},{'Elixir.LedgerWeb.QueueController',action,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.LedgerWeb.QueueController',phoenix_controller_pipeline,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',2,[{file,"lib/phoenix/router.ex"},{line,288}]},{'Elixir.LedgerWeb.Endpoint',plug_builder_call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.LedgerWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.LedgerWeb.Endpoint',call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.LedgerWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 32,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>,<<"content-length">> => <<"32">>,<<"content-type">> => <<"application/x-www-form-urlencoded">>,<<"host">> => <<"localhost:4000">>,<<"user-agent">> => <<"Ruby">>},host => <<"localhost">>,host_info => undefined,method => <<"POST">>,path => <<"/api/send">>,path_info => undefined,peer => {{127,0,0,1},60242},pid => <0.620.0>,port => 4000,qs => <<>>,ref => 'Elixir.LedgerWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"POST">>,owner => <0.621.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"api">>,<<"send">>],path_params => #{},port => 4000,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>},{<<"content-length">>,<<"32">>},{<<"content-type">>,<<"application/x-www-form-urlencoded">>},{<<"host">>,<<"localhost:4000">>},{<<"user-agent">>,<<"Ruby">>}],request_path => <<"/api/send">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.620.0>,<0.492.0>,<0.491.0>,'Elixir.LedgerWeb.Endpoint','Elixir.Ledger.Supervisor',<0.395.0>]
    message_queue_len: 0
    messages: []
    links: [<0.620.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"FfMejvCX__fD9QIAAAKB">>}]}}]
    trap_exit: false
    status: running
    heap_size: 4185
    stack_size: 27
    reductions: 105050
  neighbours:
2020-02-14 01:51:33 =ERROR REPORT====
Ranch listener 'Elixir.LedgerWeb.Endpoint.HTTP', connection process <0.620.0>, stream 1 had its request process <0.621.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.UndefinedFunctionError',arity => 1,function => publish,message => nil,module => 'Elixir.Ledger.Worker',reason => nil},[{'Elixir.Ledger.Worker',publish,[<<"{\"user_id\":\"xyz\",\"event\":\"sent_a_message\"}">>],[]},{'Elixir.LedgerWeb.QueueController',index,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,6}]},{'Elixir.LedgerWeb.QueueController',action,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.LedgerWeb.QueueController',phoenix_controller_pipeline,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',2,[{file,"lib/phoenix/router.ex"},{line,288}]},{'Elixir.LedgerWeb.Endpoint',plug_builder_call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.LedgerWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.LedgerWeb.Endpoint',call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.LedgerWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 32,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>,<<"content-length">> => <<"32">>,<<"content-type">> => <<"application/x-www-form-urlencoded">>,<<"host">> => <<"localhost:4000">>,<<"user-agent">> => <<"Ruby">>},host => <<"localhost">>,host_info => undefined,method => <<"POST">>,path => <<"/api/send">>,path_info => undefined,peer => {{127,0,0,1},60242},pid => <0.620.0>,port => 4000,qs => <<>>,ref => 'Elixir.LedgerWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"POST">>,owner => <0.621.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"api">>,<<"send">>],path_params => #{},port => 4000,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>},{<<"content-length">>,<<"32">>},{<<"content-type">>,<<"application/x-www-form-urlencoded">>},{<<"host">>,<<"localhost:4000">>},{<<"user-agent">>,<<"Ruby">>}],request_path => <<"/api/send">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2020-02-14 01:51:33 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.624.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.UndefinedFunctionError',arity => 1,function => publish,message => nil,module => 'Elixir.Ledger.Worker',reason => nil},[{'Elixir.Ledger.Worker',publish,[<<"{\"user_id\":\"xyz\",\"event\":\"sent_a_message\"}">>],[]},{'Elixir.LedgerWeb.QueueController',index,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,6}]},{'Elixir.LedgerWeb.QueueController',action,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.LedgerWeb.QueueController',phoenix_controller_pipeline,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',2,[{file,"lib/phoenix/router.ex"},{line,288}]},{'Elixir.LedgerWeb.Endpoint',plug_builder_call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.LedgerWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.LedgerWeb.Endpoint',call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.LedgerWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 32,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>,<<"content-length">> => <<"32">>,<<"content-type">> => <<"application/x-www-form-urlencoded">>,<<"host">> => <<"localhost:4000">>,<<"user-agent">> => <<"Ruby">>},host => <<"localhost">>,host_info => undefined,method => <<"POST">>,path => <<"/api/send">>,path_info => undefined,peer => {{127,0,0,1},60246},pid => <0.623.0>,port => 4000,qs => <<>>,ref => 'Elixir.LedgerWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"POST">>,owner => <0.624.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"api">>,<<"send">>],path_params => #{},port => 4000,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>},{<<"content-length">>,<<"32">>},{<<"content-type">>,<<"application/x-www-form-urlencoded">>},{<<"host">>,<<"localhost:4000">>},{<<"user-agent">>,<<"Ruby">>}],request_path => <<"/api/send">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.623.0>,<0.492.0>,<0.491.0>,'Elixir.LedgerWeb.Endpoint','Elixir.Ledger.Supervisor',<0.395.0>]
    message_queue_len: 0
    messages: []
    links: [<0.623.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"FfMejvDug9IKUUMAAAGk">>}]}}]
    trap_exit: false
    status: running
    heap_size: 4185
    stack_size: 27
    reductions: 105044
  neighbours:
2020-02-14 01:51:33 =ERROR REPORT====
Ranch listener 'Elixir.LedgerWeb.Endpoint.HTTP', connection process <0.623.0>, stream 1 had its request process <0.624.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.UndefinedFunctionError',arity => 1,function => publish,message => nil,module => 'Elixir.Ledger.Worker',reason => nil},[{'Elixir.Ledger.Worker',publish,[<<"{\"user_id\":\"xyz\",\"event\":\"sent_a_message\"}">>],[]},{'Elixir.LedgerWeb.QueueController',index,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,6}]},{'Elixir.LedgerWeb.QueueController',action,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.LedgerWeb.QueueController',phoenix_controller_pipeline,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',2,[{file,"lib/phoenix/router.ex"},{line,288}]},{'Elixir.LedgerWeb.Endpoint',plug_builder_call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.LedgerWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.LedgerWeb.Endpoint',call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.LedgerWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 32,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>,<<"content-length">> => <<"32">>,<<"content-type">> => <<"application/x-www-form-urlencoded">>,<<"host">> => <<"localhost:4000">>,<<"user-agent">> => <<"Ruby">>},host => <<"localhost">>,host_info => undefined,method => <<"POST">>,path => <<"/api/send">>,path_info => undefined,peer => {{127,0,0,1},60246},pid => <0.623.0>,port => 4000,qs => <<>>,ref => 'Elixir.LedgerWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"POST">>,owner => <0.624.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"api">>,<<"send">>],path_params => #{},port => 4000,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>},{<<"content-length">>,<<"32">>},{<<"content-type">>,<<"application/x-www-form-urlencoded">>},{<<"host">>,<<"localhost:4000">>},{<<"user-agent">>,<<"Ruby">>}],request_path => <<"/api/send">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2020-02-14 01:51:33 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.629.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.UndefinedFunctionError',arity => 1,function => publish,message => nil,module => 'Elixir.Ledger.Worker',reason => nil},[{'Elixir.Ledger.Worker',publish,[<<"{\"user_id\":\"xyz\",\"event\":\"sent_a_message\"}">>],[]},{'Elixir.LedgerWeb.QueueController',index,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,6}]},{'Elixir.LedgerWeb.QueueController',action,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.LedgerWeb.QueueController',phoenix_controller_pipeline,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',2,[{file,"lib/phoenix/router.ex"},{line,288}]},{'Elixir.LedgerWeb.Endpoint',plug_builder_call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.LedgerWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.LedgerWeb.Endpoint',call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.LedgerWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 32,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>,<<"content-length">> => <<"32">>,<<"content-type">> => <<"application/x-www-form-urlencoded">>,<<"host">> => <<"localhost:4000">>,<<"user-agent">> => <<"Ruby">>},host => <<"localhost">>,host_info => undefined,method => <<"POST">>,path => <<"/api/send">>,path_info => undefined,peer => {{127,0,0,1},60254},pid => <0.627.0>,port => 4000,qs => <<>>,ref => 'Elixir.LedgerWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"POST">>,owner => <0.629.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"api">>,<<"send">>],path_params => #{},port => 4000,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>},{<<"content-length">>,<<"32">>},{<<"content-type">>,<<"application/x-www-form-urlencoded">>},{<<"host">>,<<"localhost:4000">>},{<<"user-agent">>,<<"Ruby">>}],request_path => <<"/api/send">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.627.0>,<0.492.0>,<0.491.0>,'Elixir.LedgerWeb.Endpoint','Elixir.Ledger.Supervisor',<0.395.0>]
    message_queue_len: 0
    messages: []
    links: [<0.627.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"FfMejvdK-mZldpsAAAHE">>}]}}]
    trap_exit: false
    status: running
    heap_size: 4185
    stack_size: 27
    reductions: 105047
  neighbours:
2020-02-14 01:51:33 =ERROR REPORT====
Ranch listener 'Elixir.LedgerWeb.Endpoint.HTTP', connection process <0.627.0>, stream 1 had its request process <0.629.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.UndefinedFunctionError',arity => 1,function => publish,message => nil,module => 'Elixir.Ledger.Worker',reason => nil},[{'Elixir.Ledger.Worker',publish,[<<"{\"user_id\":\"xyz\",\"event\":\"sent_a_message\"}">>],[]},{'Elixir.LedgerWeb.QueueController',index,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,6}]},{'Elixir.LedgerWeb.QueueController',action,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.LedgerWeb.QueueController',phoenix_controller_pipeline,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',2,[{file,"lib/phoenix/router.ex"},{line,288}]},{'Elixir.LedgerWeb.Endpoint',plug_builder_call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.LedgerWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.LedgerWeb.Endpoint',call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.LedgerWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 32,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>,<<"content-length">> => <<"32">>,<<"content-type">> => <<"application/x-www-form-urlencoded">>,<<"host">> => <<"localhost:4000">>,<<"user-agent">> => <<"Ruby">>},host => <<"localhost">>,host_info => undefined,method => <<"POST">>,path => <<"/api/send">>,path_info => undefined,peer => {{127,0,0,1},60254},pid => <0.627.0>,port => 4000,qs => <<>>,ref => 'Elixir.LedgerWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"POST">>,owner => <0.629.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"api">>,<<"send">>],path_params => #{},port => 4000,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>},{<<"content-length">>,<<"32">>},{<<"content-type">>,<<"application/x-www-form-urlencoded">>},{<<"host">>,<<"localhost:4000">>},{<<"user-agent">>,<<"Ruby">>}],request_path => <<"/api/send">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2020-02-14 01:51:33 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.628.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.UndefinedFunctionError',arity => 1,function => publish,message => nil,module => 'Elixir.Ledger.Worker',reason => nil},[{'Elixir.Ledger.Worker',publish,[<<"{\"user_id\":\"xyz\",\"event\":\"sent_a_message\"}">>],[]},{'Elixir.LedgerWeb.QueueController',index,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,6}]},{'Elixir.LedgerWeb.QueueController',action,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.LedgerWeb.QueueController',phoenix_controller_pipeline,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',2,[{file,"lib/phoenix/router.ex"},{line,288}]},{'Elixir.LedgerWeb.Endpoint',plug_builder_call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.LedgerWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.LedgerWeb.Endpoint',call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.LedgerWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 32,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>,<<"content-length">> => <<"32">>,<<"content-type">> => <<"application/x-www-form-urlencoded">>,<<"host">> => <<"localhost:4000">>,<<"user-agent">> => <<"Ruby">>},host => <<"localhost">>,host_info => undefined,method => <<"POST">>,path => <<"/api/send">>,path_info => undefined,peer => {{127,0,0,1},60250},pid => <0.626.0>,port => 4000,qs => <<>>,ref => 'Elixir.LedgerWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"POST">>,owner => <0.628.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"api">>,<<"send">>],path_params => #{},port => 4000,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>},{<<"content-length">>,<<"32">>},{<<"content-type">>,<<"application/x-www-form-urlencoded">>},{<<"host">>,<<"localhost:4000">>},{<<"user-agent">>,<<"Ruby">>}],request_path => <<"/api/send">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.626.0>,<0.492.0>,<0.491.0>,'Elixir.LedgerWeb.Endpoint','Elixir.Ledger.Supervisor',<0.395.0>]
    message_queue_len: 0
    messages: []
    links: [<0.626.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"FfMejvdJ7i-KcOsAAAKh">>}]}}]
    trap_exit: false
    status: running
    heap_size: 4185
    stack_size: 27
    reductions: 105038
  neighbours:
2020-02-14 01:51:33 =ERROR REPORT====
Ranch listener 'Elixir.LedgerWeb.Endpoint.HTTP', connection process <0.626.0>, stream 1 had its request process <0.628.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.UndefinedFunctionError',arity => 1,function => publish,message => nil,module => 'Elixir.Ledger.Worker',reason => nil},[{'Elixir.Ledger.Worker',publish,[<<"{\"user_id\":\"xyz\",\"event\":\"sent_a_message\"}">>],[]},{'Elixir.LedgerWeb.QueueController',index,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,6}]},{'Elixir.LedgerWeb.QueueController',action,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.LedgerWeb.QueueController',phoenix_controller_pipeline,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',2,[{file,"lib/phoenix/router.ex"},{line,288}]},{'Elixir.LedgerWeb.Endpoint',plug_builder_call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.LedgerWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.LedgerWeb.Endpoint',call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.LedgerWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 32,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>,<<"content-length">> => <<"32">>,<<"content-type">> => <<"application/x-www-form-urlencoded">>,<<"host">> => <<"localhost:4000">>,<<"user-agent">> => <<"Ruby">>},host => <<"localhost">>,host_info => undefined,method => <<"POST">>,path => <<"/api/send">>,path_info => undefined,peer => {{127,0,0,1},60250},pid => <0.626.0>,port => 4000,qs => <<>>,ref => 'Elixir.LedgerWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"POST">>,owner => <0.628.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"api">>,<<"send">>],path_params => #{},port => 4000,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>},{<<"content-length">>,<<"32">>},{<<"content-type">>,<<"application/x-www-form-urlencoded">>},{<<"host">>,<<"localhost:4000">>},{<<"user-agent">>,<<"Ruby">>}],request_path => <<"/api/send">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2020-02-14 01:51:37 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.646.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.UndefinedFunctionError',arity => 1,function => publish,message => nil,module => 'Elixir.Ledger.Worker',reason => nil},[{'Elixir.Ledger.Worker',publish,[<<"{\"user_id\":\"xyz\",\"event\":\"sent_a_message\"}">>],[]},{'Elixir.LedgerWeb.QueueController',index,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,6}]},{'Elixir.LedgerWeb.QueueController',action,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.LedgerWeb.QueueController',phoenix_controller_pipeline,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',2,[{file,"lib/phoenix/router.ex"},{line,288}]},{'Elixir.LedgerWeb.Endpoint',plug_builder_call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.LedgerWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.LedgerWeb.Endpoint',call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.LedgerWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 32,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>,<<"content-length">> => <<"32">>,<<"content-type">> => <<"application/x-www-form-urlencoded">>,<<"host">> => <<"localhost:4000">>,<<"user-agent">> => <<"Ruby">>},host => <<"localhost">>,host_info => undefined,method => <<"POST">>,path => <<"/api/send">>,path_info => undefined,peer => {{127,0,0,1},60262},pid => <0.645.0>,port => 4000,qs => <<>>,ref => 'Elixir.LedgerWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"POST">>,owner => <0.646.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"api">>,<<"send">>],path_params => #{},port => 4000,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>},{<<"content-length">>,<<"32">>},{<<"content-type">>,<<"application/x-www-form-urlencoded">>},{<<"host">>,<<"localhost:4000">>},{<<"user-agent">>,<<"Ruby">>}],request_path => <<"/api/send">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.645.0>,<0.492.0>,<0.491.0>,'Elixir.LedgerWeb.Endpoint','Elixir.Ledger.Supervisor',<0.395.0>]
    message_queue_len: 0
    messages: []
    links: [<0.645.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"FfMej-e92FwVjFQAAAFC">>}]}}]
    trap_exit: false
    status: running
    heap_size: 4185
    stack_size: 27
    reductions: 105044
  neighbours:
2020-02-14 01:51:37 =ERROR REPORT====
Ranch listener 'Elixir.LedgerWeb.Endpoint.HTTP', connection process <0.645.0>, stream 1 had its request process <0.646.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.UndefinedFunctionError',arity => 1,function => publish,message => nil,module => 'Elixir.Ledger.Worker',reason => nil},[{'Elixir.Ledger.Worker',publish,[<<"{\"user_id\":\"xyz\",\"event\":\"sent_a_message\"}">>],[]},{'Elixir.LedgerWeb.QueueController',index,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,6}]},{'Elixir.LedgerWeb.QueueController',action,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.LedgerWeb.QueueController',phoenix_controller_pipeline,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',2,[{file,"lib/phoenix/router.ex"},{line,288}]},{'Elixir.LedgerWeb.Endpoint',plug_builder_call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.LedgerWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.LedgerWeb.Endpoint',call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.LedgerWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 32,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>,<<"content-length">> => <<"32">>,<<"content-type">> => <<"application/x-www-form-urlencoded">>,<<"host">> => <<"localhost:4000">>,<<"user-agent">> => <<"Ruby">>},host => <<"localhost">>,host_info => undefined,method => <<"POST">>,path => <<"/api/send">>,path_info => undefined,peer => {{127,0,0,1},60262},pid => <0.645.0>,port => 4000,qs => <<>>,ref => 'Elixir.LedgerWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"POST">>,owner => <0.646.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"api">>,<<"send">>],path_params => #{},port => 4000,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>},{<<"content-length">>,<<"32">>},{<<"content-type">>,<<"application/x-www-form-urlencoded">>},{<<"host">>,<<"localhost:4000">>},{<<"user-agent">>,<<"Ruby">>}],request_path => <<"/api/send">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2020-02-14 01:51:37 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.647.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.UndefinedFunctionError',arity => 1,function => publish,message => nil,module => 'Elixir.Ledger.Worker',reason => nil},[{'Elixir.Ledger.Worker',publish,[<<"{\"user_id\":\"xyz\",\"event\":\"sent_a_message\"}">>],[]},{'Elixir.LedgerWeb.QueueController',index,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,6}]},{'Elixir.LedgerWeb.QueueController',action,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.LedgerWeb.QueueController',phoenix_controller_pipeline,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',2,[{file,"lib/phoenix/router.ex"},{line,288}]},{'Elixir.LedgerWeb.Endpoint',plug_builder_call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.LedgerWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.LedgerWeb.Endpoint',call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.LedgerWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 32,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>,<<"content-length">> => <<"32">>,<<"content-type">> => <<"application/x-www-form-urlencoded">>,<<"host">> => <<"localhost:4000">>,<<"user-agent">> => <<"Ruby">>},host => <<"localhost">>,host_info => undefined,method => <<"POST">>,path => <<"/api/send">>,path_info => undefined,peer => {{127,0,0,1},60258},pid => <0.644.0>,port => 4000,qs => <<>>,ref => 'Elixir.LedgerWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"POST">>,owner => <0.647.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"api">>,<<"send">>],path_params => #{},port => 4000,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>},{<<"content-length">>,<<"32">>},{<<"content-type">>,<<"application/x-www-form-urlencoded">>},{<<"host">>,<<"localhost:4000">>},{<<"user-agent">>,<<"Ruby">>}],request_path => <<"/api/send">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.644.0>,<0.492.0>,<0.491.0>,'Elixir.LedgerWeb.Endpoint','Elixir.Ledger.Supervisor',<0.395.0>]
    message_queue_len: 0
    messages: []
    links: [<0.644.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"FfMej-e9c8SuEBIAAALB">>}]}}]
    trap_exit: false
    status: running
    heap_size: 4185
    stack_size: 27
    reductions: 105048
  neighbours:
2020-02-14 01:51:37 =ERROR REPORT====
Ranch listener 'Elixir.LedgerWeb.Endpoint.HTTP', connection process <0.644.0>, stream 1 had its request process <0.647.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.UndefinedFunctionError',arity => 1,function => publish,message => nil,module => 'Elixir.Ledger.Worker',reason => nil},[{'Elixir.Ledger.Worker',publish,[<<"{\"user_id\":\"xyz\",\"event\":\"sent_a_message\"}">>],[]},{'Elixir.LedgerWeb.QueueController',index,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,6}]},{'Elixir.LedgerWeb.QueueController',action,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.LedgerWeb.QueueController',phoenix_controller_pipeline,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',2,[{file,"lib/phoenix/router.ex"},{line,288}]},{'Elixir.LedgerWeb.Endpoint',plug_builder_call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.LedgerWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.LedgerWeb.Endpoint',call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.LedgerWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 32,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>,<<"content-length">> => <<"32">>,<<"content-type">> => <<"application/x-www-form-urlencoded">>,<<"host">> => <<"localhost:4000">>,<<"user-agent">> => <<"Ruby">>},host => <<"localhost">>,host_info => undefined,method => <<"POST">>,path => <<"/api/send">>,path_info => undefined,peer => {{127,0,0,1},60258},pid => <0.644.0>,port => 4000,qs => <<>>,ref => 'Elixir.LedgerWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"POST">>,owner => <0.647.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"api">>,<<"send">>],path_params => #{},port => 4000,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>},{<<"content-length">>,<<"32">>},{<<"content-type">>,<<"application/x-www-form-urlencoded">>},{<<"host">>,<<"localhost:4000">>},{<<"user-agent">>,<<"Ruby">>}],request_path => <<"/api/send">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2020-02-14 01:51:37 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.651.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.UndefinedFunctionError',arity => 1,function => publish,message => nil,module => 'Elixir.Ledger.Worker',reason => nil},[{'Elixir.Ledger.Worker',publish,[<<"{\"user_id\":\"xyz\",\"event\":\"sent_a_message\"}">>],[]},{'Elixir.LedgerWeb.QueueController',index,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,6}]},{'Elixir.LedgerWeb.QueueController',action,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.LedgerWeb.QueueController',phoenix_controller_pipeline,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',2,[{file,"lib/phoenix/router.ex"},{line,288}]},{'Elixir.LedgerWeb.Endpoint',plug_builder_call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.LedgerWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.LedgerWeb.Endpoint',call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.LedgerWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 32,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>,<<"content-length">> => <<"32">>,<<"content-type">> => <<"application/x-www-form-urlencoded">>,<<"host">> => <<"localhost:4000">>,<<"user-agent">> => <<"Ruby">>},host => <<"localhost">>,host_info => undefined,method => <<"POST">>,path => <<"/api/send">>,path_info => undefined,peer => {{127,0,0,1},60266},pid => <0.649.0>,port => 4000,qs => <<>>,ref => 'Elixir.LedgerWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"POST">>,owner => <0.651.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"api">>,<<"send">>],path_params => #{},port => 4000,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>},{<<"content-length">>,<<"32">>},{<<"content-type">>,<<"application/x-www-form-urlencoded">>},{<<"host">>,<<"localhost:4000">>},{<<"user-agent">>,<<"Ruby">>}],request_path => <<"/api/send">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.649.0>,<0.492.0>,<0.491.0>,'Elixir.LedgerWeb.Endpoint','Elixir.Ledger.Supervisor',<0.395.0>]
    message_queue_len: 0
    messages: []
    links: [<0.649.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"FfMej-6VjMrC8-wAAAHk">>}]}}]
    trap_exit: false
    status: running
    heap_size: 4185
    stack_size: 27
    reductions: 105069
  neighbours:
2020-02-14 01:51:37 =ERROR REPORT====
Ranch listener 'Elixir.LedgerWeb.Endpoint.HTTP', connection process <0.649.0>, stream 1 had its request process <0.651.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.UndefinedFunctionError',arity => 1,function => publish,message => nil,module => 'Elixir.Ledger.Worker',reason => nil},[{'Elixir.Ledger.Worker',publish,[<<"{\"user_id\":\"xyz\",\"event\":\"sent_a_message\"}">>],[]},{'Elixir.LedgerWeb.QueueController',index,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,6}]},{'Elixir.LedgerWeb.QueueController',action,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.LedgerWeb.QueueController',phoenix_controller_pipeline,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',2,[{file,"lib/phoenix/router.ex"},{line,288}]},{'Elixir.LedgerWeb.Endpoint',plug_builder_call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.LedgerWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.LedgerWeb.Endpoint',call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.LedgerWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 32,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>,<<"content-length">> => <<"32">>,<<"content-type">> => <<"application/x-www-form-urlencoded">>,<<"host">> => <<"localhost:4000">>,<<"user-agent">> => <<"Ruby">>},host => <<"localhost">>,host_info => undefined,method => <<"POST">>,path => <<"/api/send">>,path_info => undefined,peer => {{127,0,0,1},60266},pid => <0.649.0>,port => 4000,qs => <<>>,ref => 'Elixir.LedgerWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"POST">>,owner => <0.651.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"api">>,<<"send">>],path_params => #{},port => 4000,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>},{<<"content-length">>,<<"32">>},{<<"content-type">>,<<"application/x-www-form-urlencoded">>},{<<"host">>,<<"localhost:4000">>},{<<"user-agent">>,<<"Ruby">>}],request_path => <<"/api/send">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2020-02-14 01:51:37 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.652.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.UndefinedFunctionError',arity => 1,function => publish,message => nil,module => 'Elixir.Ledger.Worker',reason => nil},[{'Elixir.Ledger.Worker',publish,[<<"{\"user_id\":\"xyz\",\"event\":\"sent_a_message\"}">>],[]},{'Elixir.LedgerWeb.QueueController',index,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,6}]},{'Elixir.LedgerWeb.QueueController',action,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.LedgerWeb.QueueController',phoenix_controller_pipeline,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',2,[{file,"lib/phoenix/router.ex"},{line,288}]},{'Elixir.LedgerWeb.Endpoint',plug_builder_call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.LedgerWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.LedgerWeb.Endpoint',call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.LedgerWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 32,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>,<<"content-length">> => <<"32">>,<<"content-type">> => <<"application/x-www-form-urlencoded">>,<<"host">> => <<"localhost:4000">>,<<"user-agent">> => <<"Ruby">>},host => <<"localhost">>,host_info => undefined,method => <<"POST">>,path => <<"/api/send">>,path_info => undefined,peer => {{127,0,0,1},60270},pid => <0.650.0>,port => 4000,qs => <<>>,ref => 'Elixir.LedgerWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"POST">>,owner => <0.652.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"api">>,<<"send">>],path_params => #{},port => 4000,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>},{<<"content-length">>,<<"32">>},{<<"content-type">>,<<"application/x-www-form-urlencoded">>},{<<"host">>,<<"localhost:4000">>},{<<"user-agent">>,<<"Ruby">>}],request_path => <<"/api/send">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},[{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.650.0>,<0.492.0>,<0.491.0>,'Elixir.LedgerWeb.Endpoint','Elixir.Ledger.Supervisor',<0.395.0>]
    message_queue_len: 0
    messages: []
    links: [<0.650.0>]
    dictionary: [{logger_metadata,{true,[{request_id,<<"FfMej--_jUqjtZsAAALh">>}]}}]
    trap_exit: false
    status: running
    heap_size: 4185
    stack_size: 27
    reductions: 105044
  neighbours:
2020-02-14 01:51:37 =ERROR REPORT====
Ranch listener 'Elixir.LedgerWeb.Endpoint.HTTP', connection process <0.650.0>, stream 1 had its request process <0.652.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.UndefinedFunctionError',arity => 1,function => publish,message => nil,module => 'Elixir.Ledger.Worker',reason => nil},[{'Elixir.Ledger.Worker',publish,[<<"{\"user_id\":\"xyz\",\"event\":\"sent_a_message\"}">>],[]},{'Elixir.LedgerWeb.QueueController',index,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,6}]},{'Elixir.LedgerWeb.QueueController',action,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.LedgerWeb.QueueController',phoenix_controller_pipeline,2,[{file,"lib/ledger_web/controllers/queue_controller.ex"},{line,1}]},{'Elixir.Phoenix.Router','__call__',2,[{file,"lib/phoenix/router.ex"},{line,288}]},{'Elixir.LedgerWeb.Endpoint',plug_builder_call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.LedgerWeb.Endpoint','call (overridable 3)',2,[{file,"lib/plug/debugger.ex"},{line,122}]},{'Elixir.LedgerWeb.Endpoint',call,2,[{file,"lib/ledger_web/endpoint.ex"},{line,1}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,42}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]},{'Elixir.LedgerWeb.Endpoint',call,[#{'__struct__' => 'Elixir.Plug.Conn',adapter => {'Elixir.Plug.Cowboy.Conn',#{bindings => #{},body_length => 32,cert => undefined,has_body => true,headers => #{<<"accept">> => <<"*/*">>,<<"accept-encoding">> => <<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>,<<"content-length">> => <<"32">>,<<"content-type">> => <<"application/x-www-form-urlencoded">>,<<"host">> => <<"localhost:4000">>,<<"user-agent">> => <<"Ruby">>},host => <<"localhost">>,host_info => undefined,method => <<"POST">>,path => <<"/api/send">>,path_info => undefined,peer => {{127,0,0,1},60270},pid => <0.650.0>,port => 4000,qs => <<>>,ref => 'Elixir.LedgerWeb.Endpoint.HTTP',scheme => <<"http">>,sock => {{127,0,0,1},4000},streamid => 1,version => 'HTTP/1.1'}},assigns => #{},before_send => [],body_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => body_params},cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},halted => false,host => <<"localhost">>,method => <<"POST">>,owner => <0.652.0>,params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => params},path_info => [<<"api">>,<<"send">>],path_params => #{},port => 4000,private => #{},query_params => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => query_params},query_string => <<>>,remote_ip => {127,0,0,1},req_cookies => #{'__struct__' => 'Elixir.Plug.Conn.Unfetched',aspect => cookies},req_headers => [{<<"accept">>,<<"*/*">>},{<<"accept-encoding">>,<<"gzip;q=1.0,deflate;q=0.6,identity;q=0.3">>},{<<"content-length">>,<<"32">>},{<<"content-type">>,<<"application/x-www-form-urlencoded">>},{<<"host">>,<<"localhost:4000">>},{<<"user-agent">>,<<"Ruby">>}],request_path => <<"/api/send">>,resp_body => nil,resp_cookies => #{},resp_headers => [{<<"cache-control">>,<<"max-age=0, private, must-revalidate">>}],scheme => http,script_name => [],secret_key_base => nil,state => unset,status => nil},[]]}} and stacktrace [{'Elixir.Phoenix.Endpoint.Cowboy2Handler',exit_on_error,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,87}]},{'Elixir.Phoenix.Endpoint.Cowboy2Handler',init,4,[{file,"lib/phoenix/endpoint/cowboy2_handler.ex"},{line,57}]},{cowboy_handler,execute,2,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,320}]},{cowboy_stream_h,request_process,3,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/cowboy/src/cowboy_stream_h.erl"},{line,302}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2020-02-14 01:55:34 =ERROR REPORT====
Failed to start Ranch listener 'Elixir.LedgerWeb.Endpoint.HTTP' in ranch_tcp:listen([{cacerts,'...'},{key,'...'},{cert,'...'},{port,4000}]) for reason eaddrinuse (address already in use)
2020-02-14 01:55:34 =CRASH REPORT====
  crasher:
    initial call: supervisor:ranch_acceptors_sup/1
    pid: <0.492.0>
    registered_name: []
    exception exit: {{listen_error,'Elixir.LedgerWeb.Endpoint.HTTP',eaddrinuse},[{ranch_acceptors_sup,listen_error,5,[{file,"/home/adrian/Projects/adrianpk/ledger/deps/ranch/src/ranch_acceptors_sup.erl"},{line,66}]},{supervisor,init,1,[{file,"supervisor.erl"},{line,295}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,374}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,342}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.490.0>,'Elixir.LedgerWeb.Endpoint','Elixir.Ledger.Supervisor',<0.394.0>]
    message_queue_len: 0
    messages: []
    links: [<0.490.0>]
    dictionary: [{logger,error_logger}]
    trap_exit: true
    status: running
    heap_size: 1598
    stack_size: 27
    reductions: 4480
  neighbours:
2020-02-14 01:55:34 =SUPERVISOR REPORT====
     Supervisor: {<0.490.0>,ranch_listener_sup}
     Context:    start_error
     Reason:     {listen_error,'Elixir.LedgerWeb.Endpoint.HTTP',eaddrinuse}
     Offender:   [{pid,undefined},{id,ranch_acceptors_sup},{mfargs,{ranch_acceptors_sup,start_link,['Elixir.LedgerWeb.Endpoint.HTTP',ranch_tcp]}},{restart_type,permanent},{shutdown,infinity},{child_type,supervisor}]

2020-02-14 01:55:34 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.LedgerWeb.Endpoint'}
     Context:    start_error
     Reason:     {shutdown,{failed_to_start_child,ranch_acceptors_sup,{listen_error,'Elixir.LedgerWeb.Endpoint.HTTP',eaddrinuse}}}
     Offender:   [{pid,undefined},{id,{ranch_listener_sup,'Elixir.LedgerWeb.Endpoint.HTTP'}},{mfargs,{'Elixir.Phoenix.Endpoint.Cowboy2Adapter',start_link,[http,'Elixir.LedgerWeb.Endpoint',{ranch_listener_sup,start_link,['Elixir.LedgerWeb.Endpoint.HTTP',ranch_tcp,#{max_connections => 16384,num_acceptors => 100,socket_opts => [{port,4000}]},cowboy_clear,#{env => #{dispatch => [{'_',[],[{'_',[],'Elixir.Phoenix.Endpoint.Cowboy2Handler',{'Elixir.LedgerWeb.Endpoint',[]}}]}]},stream_handlers => ['Elixir.Plug.Cowboy.Stream']}]}]}},{restart_type,permanent},{shutdown,infinity},{child_type,supervisor}]

2020-02-14 01:55:34 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.Ledger.Supervisor'}
     Context:    start_error
     Reason:     {shutdown,{failed_to_start_child,{ranch_listener_sup,'Elixir.LedgerWeb.Endpoint.HTTP'},{shutdown,{failed_to_start_child,ranch_acceptors_sup,{listen_error,'Elixir.LedgerWeb.Endpoint.HTTP',eaddrinuse}}}}}
     Offender:   [{pid,undefined},{id,'Elixir.LedgerWeb.Endpoint'},{mfargs,{'Elixir.LedgerWeb.Endpoint',start_link,[[]]}},{restart_type,permanent},{shutdown,infinity},{child_type,supervisor}]

2020-02-14 01:55:34 =CRASH REPORT====
  crasher:
    initial call: application_master:init/4
    pid: <0.393.0>
    registered_name: []
    exception exit: {{{shutdown,{failed_to_start_child,'Elixir.LedgerWeb.Endpoint',{shutdown,{failed_to_start_child,{ranch_listener_sup,'Elixir.LedgerWeb.Endpoint.HTTP'},{shutdown,{failed_to_start_child,ranch_acceptors_sup,{listen_error,'Elixir.LedgerWeb.Endpoint.HTTP',eaddrinuse}}}}}}},{'Elixir.Ledger.Application',start,[normal,[]]}},[{application_master,init,4,[{file,"application_master.erl"},{line,138}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.392.0>]
    message_queue_len: 1
    messages: [{'EXIT',<0.394.0>,normal}]
    links: [<0.392.0>,<0.43.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 610
    stack_size: 27
    reductions: 219
  neighbours:
2020-02-14 01:55:45 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.Ledger.Supervisor'}
     Context:    start_error
     Reason:     {'EXIT',{undef,[{'Elixir.Ledger.Queue.Worker',start_link,[[]],[]},{supervisor,do_start_child_i,3,[{file,"supervisor.erl"},{line,379}]},{supervisor,do_start_child,2,[{file,"supervisor.erl"},{line,365}]},{supervisor,'-start_children/2-fun-0-',3,[{file,"supervisor.erl"},{line,349}]},{supervisor,children_map,4,[{file,"supervisor.erl"},{line,1157}]},{supervisor,init_children,2,[{file,"supervisor.erl"},{line,315}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,374}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,342}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}}
     Offender:   [{pid,undefined},{id,'Elixir.Ledger.Queue.Worker'},{mfargs,{'Elixir.Ledger.Queue.Worker',start_link,[[]]}},{restart_type,permanent},{shutdown,5000},{child_type,worker}]

2020-02-14 01:55:45 =CRASH REPORT====
  crasher:
    initial call: application_master:init/4
    pid: <0.379.0>
    registered_name: []
    exception exit: {{{shutdown,{failed_to_start_child,'Elixir.Ledger.Queue.Worker',{'EXIT',{undef,[{'Elixir.Ledger.Queue.Worker',start_link,[[]],[]},{supervisor,do_start_child_i,3,[{file,"supervisor.erl"},{line,379}]},{supervisor,do_start_child,2,[{file,"supervisor.erl"},{line,365}]},{supervisor,'-start_children/2-fun-0-',3,[{file,"supervisor.erl"},{line,349}]},{supervisor,children_map,4,[{file,"supervisor.erl"},{line,1157}]},{supervisor,init_children,2,[{file,"supervisor.erl"},{line,315}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,374}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,342}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}}}},{'Elixir.Ledger.Application',start,[normal,[]]}},[{application_master,init,4,[{file,"application_master.erl"},{line,138}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.378.0>]
    message_queue_len: 1
    messages: [{'EXIT',<0.380.0>,normal}]
    links: [<0.378.0>,<0.43.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 987
    stack_size: 27
    reductions: 246
  neighbours:
2020-02-14 01:56:37 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.Ledger.Supervisor'}
     Context:    start_error
     Reason:     {'EXIT',{undef,[{'Elixir.Ledger.Queue.Worker',start_link,[[]],[]},{supervisor,do_start_child_i,3,[{file,"supervisor.erl"},{line,379}]},{supervisor,do_start_child,2,[{file,"supervisor.erl"},{line,365}]},{supervisor,'-start_children/2-fun-0-',3,[{file,"supervisor.erl"},{line,349}]},{supervisor,children_map,4,[{file,"supervisor.erl"},{line,1157}]},{supervisor,init_children,2,[{file,"supervisor.erl"},{line,315}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,374}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,342}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}}
     Offender:   [{pid,undefined},{id,'Elixir.Ledger.Queue.Worker'},{mfargs,{'Elixir.Ledger.Queue.Worker',start_link,[[]]}},{restart_type,permanent},{shutdown,5000},{child_type,worker}]

2020-02-14 01:56:37 =CRASH REPORT====
  crasher:
    initial call: application_master:init/4
    pid: <0.379.0>
    registered_name: []
    exception exit: {{{shutdown,{failed_to_start_child,'Elixir.Ledger.Queue.Worker',{'EXIT',{undef,[{'Elixir.Ledger.Queue.Worker',start_link,[[]],[]},{supervisor,do_start_child_i,3,[{file,"supervisor.erl"},{line,379}]},{supervisor,do_start_child,2,[{file,"supervisor.erl"},{line,365}]},{supervisor,'-start_children/2-fun-0-',3,[{file,"supervisor.erl"},{line,349}]},{supervisor,children_map,4,[{file,"supervisor.erl"},{line,1157}]},{supervisor,init_children,2,[{file,"supervisor.erl"},{line,315}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,374}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,342}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}}}},{'Elixir.Ledger.Application',start,[normal,[]]}},[{application_master,init,4,[{file,"application_master.erl"},{line,138}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.378.0>]
    message_queue_len: 1
    messages: [{'EXIT',<0.380.0>,normal}]
    links: [<0.378.0>,<0.43.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 987
    stack_size: 27
    reductions: 246
  neighbours:
2020-02-14 01:57:15 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.Ledger.Supervisor'}
     Context:    start_error
     Reason:     {'EXIT',{undef,[{'Elixir.Ledger.Queue.Worker',start_link,[[]],[]},{supervisor,do_start_child_i,3,[{file,"supervisor.erl"},{line,379}]},{supervisor,do_start_child,2,[{file,"supervisor.erl"},{line,365}]},{supervisor,'-start_children/2-fun-0-',3,[{file,"supervisor.erl"},{line,349}]},{supervisor,children_map,4,[{file,"supervisor.erl"},{line,1157}]},{supervisor,init_children,2,[{file,"supervisor.erl"},{line,315}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,374}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,342}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}}
     Offender:   [{pid,undefined},{id,'Elixir.Ledger.Queue.Worker'},{mfargs,{'Elixir.Ledger.Queue.Worker',start_link,[[]]}},{restart_type,permanent},{shutdown,5000},{child_type,worker}]

2020-02-14 01:57:15 =CRASH REPORT====
  crasher:
    initial call: application_master:init/4
    pid: <0.379.0>
    registered_name: []
    exception exit: {{{shutdown,{failed_to_start_child,'Elixir.Ledger.Queue.Worker',{'EXIT',{undef,[{'Elixir.Ledger.Queue.Worker',start_link,[[]],[]},{supervisor,do_start_child_i,3,[{file,"supervisor.erl"},{line,379}]},{supervisor,do_start_child,2,[{file,"supervisor.erl"},{line,365}]},{supervisor,'-start_children/2-fun-0-',3,[{file,"supervisor.erl"},{line,349}]},{supervisor,children_map,4,[{file,"supervisor.erl"},{line,1157}]},{supervisor,init_children,2,[{file,"supervisor.erl"},{line,315}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,374}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,342}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}}}},{'Elixir.Ledger.Application',start,[normal,[]]}},[{application_master,init,4,[{file,"application_master.erl"},{line,138}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.378.0>]
    message_queue_len: 1
    messages: [{'EXIT',<0.380.0>,normal}]
    links: [<0.378.0>,<0.43.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 987
    stack_size: 27
    reductions: 246
  neighbours:
2020-02-14 02:01:42 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.Ledger.Supervisor'}
     Context:    start_error
     Reason:     {'EXIT',{undef,[{'Elixir.Ledger.Queue.Worker',start_link,[[]],[]},{supervisor,do_start_child_i,3,[{file,"supervisor.erl"},{line,379}]},{supervisor,do_start_child,2,[{file,"supervisor.erl"},{line,365}]},{supervisor,'-start_children/2-fun-0-',3,[{file,"supervisor.erl"},{line,349}]},{supervisor,children_map,4,[{file,"supervisor.erl"},{line,1157}]},{supervisor,init_children,2,[{file,"supervisor.erl"},{line,315}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,374}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,342}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}}
     Offender:   [{pid,undefined},{id,'Elixir.Ledger.Queue.Worker'},{mfargs,{'Elixir.Ledger.Queue.Worker',start_link,[[]]}},{restart_type,permanent},{shutdown,5000},{child_type,worker}]

2020-02-14 02:01:42 =CRASH REPORT====
  crasher:
    initial call: application_master:init/4
    pid: <0.379.0>
    registered_name: []
    exception exit: {{{shutdown,{failed_to_start_child,'Elixir.Ledger.Queue.Worker',{'EXIT',{undef,[{'Elixir.Ledger.Queue.Worker',start_link,[[]],[]},{supervisor,do_start_child_i,3,[{file,"supervisor.erl"},{line,379}]},{supervisor,do_start_child,2,[{file,"supervisor.erl"},{line,365}]},{supervisor,'-start_children/2-fun-0-',3,[{file,"supervisor.erl"},{line,349}]},{supervisor,children_map,4,[{file,"supervisor.erl"},{line,1157}]},{supervisor,init_children,2,[{file,"supervisor.erl"},{line,315}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,374}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,342}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}}}},{'Elixir.Ledger.Application',start,[normal,[]]}},[{application_master,init,4,[{file,"application_master.erl"},{line,138}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.378.0>]
    message_queue_len: 1
    messages: [{'EXIT',<0.380.0>,normal}]
    links: [<0.378.0>,<0.43.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 987
    stack_size: 27
    reductions: 250
  neighbours:
2020-02-14 02:06:30 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.Ledger.Supervisor'}
     Context:    start_error
     Reason:     {{badmatch,{error,econnrefused}},[{'Elixir.Ledger.Queue.Worker',init,1,[{file,"lib/ledger/queue/worker.ex"},{line,21}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,374}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,342}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
     Offender:   [{pid,undefined},{id,'Elixir.Ledger.Queue.Worker'},{mfargs,{'Elixir.Ledger.Queue.Worker',start_link,[]}},{restart_type,permanent},{shutdown,5000},{child_type,worker}]

2020-02-14 02:06:30 =CRASH REPORT====
  crasher:
    initial call: Elixir.Ledger.Queue.Worker:init/1
    pid: <0.590.0>
    registered_name: []
    exception error: {{badmatch,{error,econnrefused}},[{'Elixir.Ledger.Queue.Worker',init,1,[{file,"lib/ledger/queue/worker.ex"},{line,21}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,374}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,342}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: ['Elixir.Ledger.Supervisor',<0.389.0>]
    message_queue_len: 0
    messages: []
    links: [<0.390.0>]
    dictionary: [{gen_server_call_timeout,60000}]
    trap_exit: false
    status: running
    heap_size: 987
    stack_size: 27
    reductions: 16818
  neighbours:
2020-02-14 02:06:30 =CRASH REPORT====
  crasher:
    initial call: application_master:init/4
    pid: <0.388.0>
    registered_name: []
    exception exit: {{{shutdown,{failed_to_start_child,'Elixir.Ledger.Queue.Worker',{{badmatch,{error,econnrefused}},[{'Elixir.Ledger.Queue.Worker',init,1,[{file,"lib/ledger/queue/worker.ex"},{line,21}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,374}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,342}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}}},{'Elixir.Ledger.Application',start,[normal,[]]}},[{application_master,init,4,[{file,"application_master.erl"},{line,138}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.387.0>]
    message_queue_len: 1
    messages: [{'EXIT',<0.389.0>,normal}]
    links: [<0.387.0>,<0.43.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 610
    stack_size: 27
    reductions: 218
  neighbours:
